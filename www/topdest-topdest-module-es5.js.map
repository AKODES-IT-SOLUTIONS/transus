{"version":3,"sources":["webpack:///src/app/topdest/topdest.page.html","webpack:///src/app/topdest/topdest-routing.module.ts","webpack:///src/app/topdest/topdest.module.ts","webpack:///src/app/topdest/topdest.page.scss","webpack:///src/app/topdest/topdest.page.ts"],"names":["routes","path","component","TopdestPageRoutingModule","imports","forChild","exports","TopdestPageModule","declarations","TopdestPage","restservice","router","userService","menuCtrl","loadingController","storage","toprateddest","filteredTopDest","response","offset","userID","filterCars","searchData","baseUrl","toggle","data","JSON","stringify","limit","console","log","getDestination","subscribe","res","parse","err","place","filterFound","get","then","user_details","users_id","currencyID","currencies_id","present","requestType","textToSearch","destination_name","currency_id","limit_val","offset_val","filtersTopRated","allser","myData","cars_list_result","dismiss","fromHomeToSearch","navigate","create","message","loading","event","target","disabled","concat","infiniteScroll","detail","value","filter","item","toLowerCase","includes","selector","template"],"mappings":"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","file":"topdest-topdest-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"header_pd\\\" style=\\\"--background: #c4932f\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <img src=\\\"assets/img/Menu.svg\\\" (click)=\\\"toggleMenu()\\\" />\\n    </ion-buttons>\\n    <ion-searchbar\\n      style=\\\"margin-top: 0px\\\"\\n      (ionChange)=\\\"onInput($event)\\\"\\n      placeholder=\\\"Search for cars\\\"\\n    >\\n    </ion-searchbar>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div *ngIf=\\\"searchData == ''\\\">\\n    <div\\n      style=\\\"\\n      height: 150px;\\n      width: 100%;\\n      background-image: url('{{place.destination_pic}}');\\n      background-size: cover; \\\"\\n      *ngFor=\\\"let place of toprateddest\\\"\\n      (click)=\\\"goToTopRated(place)\\\"\\n    >\\n      <div\\n        style=\\\"height: 150px; width: 100%; background-color: rgb(0 0 0 / 51%)\\\"\\n      >\\n        <ion-row style=\\\"font-size: 25px; padding-top: 50px; color: white\\\">\\n          <ion-col style=\\\"text-align: center\\\">\\n            <p>{{place.destination_name}}</p>\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div *ngIf=\\\"searchData != ''\\\">\\n    <div\\n      style=\\\"\\n  height: 150px;\\n  width: 100%;\\n  background-image: url('{{place.destination_pic}}');\\n  background-size: cover; \\\"\\n      *ngFor=\\\"let place of filteredTopDest\\\"\\n      (click)=\\\"goToTopRated(place)\\\"\\n    >\\n      <div\\n        style=\\\"height: 150px; width: 100%; background-color: rgb(0 0 0 / 51%)\\\"\\n      >\\n        <ion-row style=\\\"font-size: 25px; padding-top: 50px; color: white\\\">\\n          <ion-col style=\\\"text-align: center\\\">\\n            <p>{{place.destination_name}}</p>\\n          </ion-col>\\n        </ion-row>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <!-- <ion-infinite-scroll threshold=\\\"100px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\n    <ion-infinite-scroll-content\\n      loadingSpinner=\\\"bubbles\\\"\\n      loadingText=\\\"Loading more data...\\\"\\n    >\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll> -->\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TopdestPage } from './topdest.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopdestPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TopdestPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TopdestPageRoutingModule } from './topdest-routing.module';\n\nimport { TopdestPage } from './topdest.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TopdestPageRoutingModule\n  ],\n  declarations: [TopdestPage]\n})\nexport class TopdestPageModule {}\n","export default \"p {\\n  display: block;\\n  -webkit-margin-before: 0em;\\n          margin-block-start: 0em;\\n  -webkit-margin-after: 0em;\\n          margin-block-end: 0em;\\n  -webkit-margin-start: 0px;\\n          margin-inline-start: 0px;\\n  -webkit-margin-end: 0px;\\n          margin-inline-end: 0px;\\n}\\n\\nion-searchbar {\\n  --border-radius: 22px;\\n  --box-shadow: none;\\n}\\n\\nion-toolbar.ios {\\n  margin-top: 3px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdG9wZGVzdC90b3BkZXN0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7RUFDQSwwQkFBQTtVQUFBLHVCQUFBO0VBQ0EseUJBQUE7VUFBQSxxQkFBQTtFQUNBLHlCQUFBO1VBQUEsd0JBQUE7RUFDQSx1QkFBQTtVQUFBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxxQkFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBR0E7RUFDRSxlQUFBO0FBQUYiLCJmaWxlIjoic3JjL2FwcC90b3BkZXN0L3RvcGRlc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsicCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tYmxvY2stc3RhcnQ6IDBlbTtcbiAgbWFyZ2luLWJsb2NrLWVuZDogMGVtO1xuICBtYXJnaW4taW5saW5lLXN0YXJ0OiAwcHg7XG4gIG1hcmdpbi1pbmxpbmUtZW5kOiAwcHg7XG59XG5cbmlvbi1zZWFyY2hiYXIge1xuICAtLWJvcmRlci1yYWRpdXM6IDIycHg7XG4gIC0tYm94LXNoYWRvdzogbm9uZTtcbn1cblxuXG5pb24tdG9vbGJhci5pb3Mge1xuICBtYXJnaW4tdG9wOiAzcHg7XG59XG4iXX0= */\";","import { UsersService } from './../users.service';\nimport { Router } from '@angular/router';\nimport { RestService } from './../rest.service';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport {\n  IonInfiniteScroll,\n  LoadingController,\n  MenuController,\n} from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-topdest',\n  templateUrl: './topdest.page.html',\n  styleUrls: ['./topdest.page.scss'],\n})\nexport class TopdestPage implements OnInit {\n  toprateddest: any = '';\n  filteredTopDest: any = '';\n  response: any = '';\n  offset = 0;\n\n  userID: any = '';\n  currencyID: any;\n  currency_symbol: any;\n\n  filterCars: any = '';\n\n  allser: any;\n\n  searchData: any = '';\n\n  baseUrl: string = 'https://app.transusdrives.com/uploads/';\n  loading: HTMLIonLoadingElement;\n\n  constructor(\n    public restservice: RestService,\n    public router: Router,\n    public userService: UsersService,\n    public menuCtrl: MenuController,\n    public loadingController: LoadingController,\n    private storage: Storage\n  ) {}\n\n  toggleMenu() {\n    this.menuCtrl.toggle();\n  }\n\n  ngOnInit() {\n    // this.present();\n\n    var data = JSON.stringify({\n      limit: '5',\n      offset: this.offset,\n    });\n\n    console.log('data', data);\n\n    this.restservice.getDestination(data).subscribe(\n      (res: any) => {\n        console.log('dest----------', res);\n\n        // this.dismiss();\n\n        this.response = JSON.parse(res['_body']);\n\n        console.log(this.response);\n\n        this.toprateddest = this.response.data;\n      },\n      (err) => {\n        // this.dismiss();\n        // this.ShowLoading = false;\n      }\n    );\n  }\n\n  goToTopRated(place) {\n    this.filterFound(place);\n  }\n\n  //===============================================\n\n  filterFound(place) {\n    this.storage.get('user_details').then((user_details) => {\n      console.log('user data is here', user_details);\n      if (user_details) {\n        this.userID = user_details.users_id;\n        this.currencyID = user_details.currencies_id;\n      } else {\n        this.userID = '';\n      }\n\n      console.log('loader present ali');\n      this.present();\n      var data = JSON.stringify({\n        requestType: 'searchBysearch',\n        users_id: this.userID,\n        textToSearch: place.destination_name,\n        currency_id: this.currencyID,\n        limit_val: '5',\n        offset_val: '0',\n      });\n      console.log('ali', data);\n      this.restservice.filtersTopRated(data).subscribe(\n        (res) => {\n          this.filterCars = res;\n\n          console.log('ali wants to remove');\n          console.log(\n            JSON.parse(this.filterCars['_body']),\n            \"JSON.parse(this.filterCars['_body']JSON.parse(this.filterCars['_body']\"\n          );\n          this.allser = JSON.parse(this.filterCars['_body']);\n          var myData = JSON.stringify({\n            cars_list_result: this.allser.cars_list_result,\n          });\n          this.dismiss();\n          console.log('loader dismiss ali');\n          // this.router.navigate(['/car-list'], {\n          //   queryParams: {\n          //     value: myData,\n          //   },\n          // });\n\n          this.restservice.fromHomeToSearch = myData;\n\n          this.router.navigate(['/car-list']);\n        },\n        (err) => {\n          this.dismiss();\n          console.log(err);\n        }\n      );\n    });\n  }\n\n  //=======================================================\n\n  async present() {\n    this.loading = await this.loadingController.create({\n      message: 'Please wait...',\n    });\n    await this.loading.present();\n  }\n\n  async dismiss() {\n    await this.loading.dismiss();\n  }\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  loadData(event) {\n    this.offset++;\n\n    var data = JSON.stringify({\n      limit: '5',\n      offset: this.offset,\n    });\n\n    console.log('data', data);\n\n    this.restservice.getDestination(data).subscribe(\n      (res: any) => {\n        console.log('dest----------', res);\n\n        event.target.disabled = true;\n\n        this.response = JSON.parse(res['_body']);\n\n        console.log(this.response);\n\n        this.toprateddest = this.toprateddest.concat(this.response.data);\n      },\n      (err) => {\n        event.target.disabled = true;\n        // this.ShowLoading = false;\n      }\n    );\n  }\n\n  toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n\n  onInput(event) {\n    console.log(event.detail.value);\n\n    this.searchData = event.detail.value;\n\n    console.log('searchData', this.searchData);\n\n    console.log('toprateddest-----------', this.toprateddest);\n\n    this.filteredTopDest = this.toprateddest.filter((item) => {\n      if (item.destination_name != null) {\n        return item.destination_name\n          .toLowerCase()\n          .includes(event.detail.value.toLowerCase());\n      }\n    });\n\n    console.log('filter-----------', this.filteredTopDest);\n  }\n}\n"]}