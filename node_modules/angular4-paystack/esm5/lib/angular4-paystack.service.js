/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable, Inject } from '@angular/core';
import { PUBLIC_KEY_TOKEN } from './paystack-token';
import * as i0 from "@angular/core";
import * as i1 from "./paystack-token";
/**
 * @record
 */
import * as ɵngcc0 from '@angular/core';
function MyWindow() { }
if (false) {
    /** @type {?} */
    MyWindow.prototype.PaystackPop;
}
var Angular4PaystackService = /** @class */ (function () {
    function Angular4PaystackService(token) {
        this.token = token;
    }
    /**
     * @return {?}
     */
    Angular4PaystackService.prototype.loadScript = /**
     * @return {?}
     */
    function () {
        return new Promise((/**
         * @param {?} resolve
         * @return {?}
         */
        function (resolve) {
            if (window.PaystackPop && typeof window.PaystackPop.setup === 'function') {
                resolve();
                return;
            }
            /** @type {?} */
            var script = window.document.createElement('script');
            window.document.head.appendChild(script);
            /** @type {?} */
            var onLoadFunc = (/**
             * @return {?}
             */
            function () {
                script.removeEventListener('load', onLoadFunc);
                resolve();
            });
            script.addEventListener('load', onLoadFunc);
            script.setAttribute('src', 'https://js.paystack.co/v1/inline.js');
        }));
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    Angular4PaystackService.prototype.checkInput = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        if (!obj.key && !this.token) {
            return 'ANGULAR-PAYSTACK: Please insert a your public key';
        }
        if (!obj.email) {
            return 'ANGULAR-PAYSTACK: Paystack email cannot be empty';
        }
        if (!obj.amount) {
            return 'ANGULAR-PAYSTACK: Paystack amount cannot be empty';
        }
        if (!obj.ref) {
            return 'ANGULAR-PAYSTACK: Paystack ref cannot be empty';
        }
        return '';
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    Angular4PaystackService.prototype.getPaystackOptions = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        /** @type {?} */
        var paystackOptions = {
            key: obj.key || this.token,
            email: obj.email,
            amount: obj.amount,
            ref: obj.ref,
            metadata: obj.metadata || {},
            currency: obj.currency || 'NGN',
            plan: obj.plan || '',
            channels: obj.channels,
            quantity: obj.quantity || '',
            subaccount: obj.subaccount || '',
            transaction_charge: obj.transaction_charge || 0,
            // tslint:disable-line
            bearer: obj.bearer || '',
        };
        return paystackOptions;
    };
    /** @nocollapse */
    Angular4PaystackService.ctorParameters = function () { return [
        { type: String, decorators: [{ type: Inject, args: [PUBLIC_KEY_TOKEN,] }] }
    ]; };
    /** @nocollapse */ Angular4PaystackService.ngInjectableDef = i0.ɵɵdefineInjectable({ factory: function Angular4PaystackService_Factory() { return new Angular4PaystackService(i0.ɵɵinject(i1.PUBLIC_KEY_TOKEN)); }, token: Angular4PaystackService, providedIn: "root" });
Angular4PaystackService.ɵfac = function Angular4PaystackService_Factory(t) { return new (t || Angular4PaystackService)(ɵngcc0.ɵɵinject(PUBLIC_KEY_TOKEN)); };
Angular4PaystackService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: Angular4PaystackService, factory: function (t) { return Angular4PaystackService.ɵfac(t); }, providedIn: 'root' });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(Angular4PaystackService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: String, decorators: [{
                type: Inject,
                args: [PUBLIC_KEY_TOKEN]
            }] }]; }, null); })();
    return Angular4PaystackService;
}());
export { Angular4PaystackService };
if (false) {
    /**
     * @type {?}
     * @private
     */
    Angular4PaystackService.prototype.token;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjQtcGF5c3RhY2suc2VydmljZS5qcyIsInNvdXJjZXMiOlsibmc6L2FuZ3VsYXI0LXBheXN0YWNrL2xpYi9hbmd1bGFyNC1wYXlzdGFjay5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNwRDtBQUFxQztBQUVmO0FBQUk7QUFDekI7O0FBREQsdUJBSUM7QUFDRDtBQUFhO0FBRVYsSUFORCwrQkFFRTtBQUNKO0FBR0E7QUFHb0IsSUFDbEIsaUNBQThDLEtBQWE7QUFBSSxRQUFqQixVQUFLLEdBQUwsS0FBSyxDQUFRO0FBQUMsSUFBRSxDQUFDO0FBQ2pFO0FBQ087QUFBbUI7QUFDeEIsSUFEQSw0Q0FBVTtBQUFPO0FBQ2I7QUFBUSxJQURaO0FBQWMsUUFDWixPQUFPLElBQUksT0FBTztBQUFNO0FBQ047QUFBdUI7QUFBWSxRQURsQyxVQUFBLE9BQU87QUFBSSxZQUM1QixJQUFJLE1BQU0sQ0FBQyxXQUFXLElBQUksT0FBTyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssS0FBSyxVQUFVLEVBQUU7QUFDaEYsZ0JBQVEsT0FBTyxFQUFFLENBQUM7QUFDbEIsZ0JBQVEsT0FBTztBQUNmLGFBQU87QUFDUDtBQUE2QixnQkFBakIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztBQUM1RCxZQUFNLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMvQztBQUE2QixnQkFBakIsVUFBVTtBQUFRO0FBQ047QUFBZ0IsWUFEZjtBQUNuQixnQkFBRSxNQUFNLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ3ZELGdCQUFRLE9BQU8sRUFBRSxD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QUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBdkRBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQWZBLEFBb0VBLEFBekRBLEFBeURBLEFBdERBLEFBQUEsQUFDQSxBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFBVQkxJQ19LRVlfVE9LRU4gfSBmcm9tICcuL3BheXN0YWNrLXRva2VuJztcclxuaW1wb3J0IHsgUGF5c3RhY2tPcHRpb25zIH0gZnJvbSAnLi9wYXlzdGFjay1vcHRpb25zJztcclxuXHJcbmludGVyZmFjZSBNeVdpbmRvdyBleHRlbmRzIFdpbmRvdyB7XHJcbiAgUGF5c3RhY2tQb3A6IHtcclxuICAgIHNldHVwKG9wdGlvbnM6IFBhcnRpYWw8UGF5c3RhY2tPcHRpb25zPik6IHsgb3BlbklmcmFtZSgpOiBhbnkgfVxyXG4gIH07XHJcbn1cclxuZGVjbGFyZSB2YXIgd2luZG93OiBNeVdpbmRvdztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCcsXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBBbmd1bGFyNFBheXN0YWNrU2VydmljZSB7XHJcbiAgY29uc3RydWN0b3IoQEluamVjdChQVUJMSUNfS0VZX1RPS0VOKSBwcml2YXRlIHRva2VuOiBzdHJpbmcpIHt9XHJcblxyXG4gIGxvYWRTY3JpcHQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgIGlmICh3aW5kb3cuUGF5c3RhY2tQb3AgJiYgdHlwZW9mIHdpbmRvdy5QYXlzdGFja1BvcC5zZXR1cCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgc2NyaXB0ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xyXG4gICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gICAgICBjb25zdCBvbkxvYWRGdW5jID0gKCkgPT4ge1xyXG4gICAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgb25Mb2FkRnVuYyk7XHJcbiAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICB9O1xyXG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZEZ1bmMpO1xyXG4gICAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdzcmMnLCAnaHR0cHM6Ly9qcy5wYXlzdGFjay5jby92MS9pbmxpbmUuanMnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2hlY2tJbnB1dChvYmo6IFBhcnRpYWw8UGF5c3RhY2tPcHRpb25zPik6IHN0cmluZyB7XHJcbiAgICBpZiAoIW9iai5rZXkgJiYgIXRoaXMudG9rZW4pIHtcclxuICAgICAgcmV0dXJuICdBTkdVTEFSLVBBWVNUQUNLOiBQbGVhc2UgaW5zZXJ0IGEgeW91ciBwdWJsaWMga2V5JztcclxuICAgIH1cclxuICAgIGlmICghb2JqLmVtYWlsKSB7XHJcbiAgICAgIHJldHVybiAnQU5HVUxBUi1QQVlTVEFDSzogUGF5c3RhY2sgZW1haWwgY2Fubm90IGJlIGVtcHR5JztcclxuICAgIH1cclxuICAgIGlmICghb2JqLmFtb3VudCkge1xyXG4gICAgICByZXR1cm4gJ0FOR1VMQVItUEFZU1RBQ0s6IFBheXN0YWNrIGFtb3VudCBjYW5ub3QgYmUgZW1wdHknO1xyXG4gICAgfVxyXG4gICAgaWYgKCFvYmoucmVmKSB7XHJcbiAgICAgIHJldHVybiAnQU5HVUxBUi1QQVlTVEFDSzogUGF5c3RhY2sgcmVmIGNhbm5vdCBiZSBlbXB0eSc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBnZXRQYXlzdGFja09wdGlvbnMob2JqOiBQYXlzdGFja09wdGlvbnMpOiBQYXlzdGFja09wdGlvbnMge1xyXG4gICAgY29uc3QgcGF5c3RhY2tPcHRpb25zOiBQYXlzdGFja09wdGlvbnMgPSB7XHJcbiAgICAgIGtleTogb2JqLmtleSB8fCB0aGlzLnRva2VuLFxyXG4gICAgICBlbWFpbDogb2JqLmVtYWlsLFxyXG4gICAgICBhbW91bnQ6IG9iai5hbW91bnQsXHJcbiAgICAgIHJlZjogb2JqLnJlZixcclxuICAgICAgbWV0YWRhdGE6IG9iai5tZXRhZGF0YSB8fCB7fSxcclxuICAgICAgY3VycmVuY3k6IG9iai5jdXJyZW5jeSB8fCAnTkdOJyxcclxuICAgICAgcGxhbjogb2JqLnBsYW4gfHwgJycsXHJcbiAgICAgIGNoYW5uZWxzOiBvYmouY2hhbm5lbHMsXHJcbiAgICAgIHF1YW50aXR5OiBvYmoucXVhbnRpdHkgfHwgJycsXHJcbiAgICAgIHN1YmFjY291bnQ6IG9iai5zdWJhY2NvdW50IHx8ICcnLFxyXG4gICAgICB0cmFuc2FjdGlvbl9jaGFyZ2U6IG9iai50cmFuc2FjdGlvbl9jaGFyZ2UgfHwgMCwgLy8gdHNsaW50OmRpc2FibGUtbGluZVxyXG4gICAgICBiZWFyZXI6IG9iai5iZWFyZXIgfHwgJycsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHBheXN0YWNrT3B0aW9ucztcclxuICB9XHJcblxyXG59XHJcbiJdfQ==