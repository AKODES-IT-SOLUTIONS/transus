{"version":3,"sources":["webpack:///src/app/view-all-notifications/view-all-notifications.page.html","webpack:///src/app/view-all-notifications/view-all-notifications-routing.module.ts","webpack:///src/app/view-all-notifications/view-all-notifications.module.ts","webpack:///src/app/view-all-notifications/view-all-notifications.page.scss","webpack:///src/app/view-all-notifications/view-all-notifications.page.ts"],"names":["routes","path","component","ViewAllNotificationsPageRoutingModule","imports","forChild","exports","ViewAllNotificationsPageModule","declarations","ViewAllNotificationsPage","popoverController","restService","storage","router","menuCtrl","plateform","loadingController","notifications","dataError","page_number","notificationError","timeZone","Intl","DateTimeFormat","resolvedOptions","console","log","is","plateformCheck","get","then","user_details","userID","users_id","currencies_id","base_url","viewAll","present","stringy","JSON","stringify","subscribe","response","parse","status","dismiss","error","clearInterval","callInterval","event","toggle","isFirstLoad","refresher","offset","queryyyy","target","complete","p","offer_id","readNotification","inquire_charges","offerPopup","offers","err","type_id","myData","receiver_id","otherUserId","sender_id","user_name","sender_name","profile_img","sender_img_url","navigate","queryParams","value","gerValue","notification","read","requestType","usersID","notifyID","notifications_id","res","readError","create","componentProps","translucent","popover","onWillDismiss","data","message","loading","selector","template"],"mappings":"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","file":"view-all-notifications-view-all-notifications-module-es5.js","sourcesContent":["export default \"<ion-header style=\\\"height: 60px\\\" [class.ios-headers]=\\\"plateformCheck == 'ios'\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <img src=\\\"assets/img/Menu.svg\\\" (click)=\\\"toggleMenu()\\\" />\\n    </ion-buttons>\\n    <ion-title [class.globe_title]=\\\"plateformCheck == 'ios'\\\"\\n      >Notifications</ion-title\\n    >\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content\\n      pullingIcon=\\\"chevron-down-circle-outline\\\"\\n      pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\"\\n      refreshingText=\\\"Refreshing...\\\"\\n    >\\n    </ion-refresher-content>\\n  </ion-refresher>\\n\\n  <ng-container *ngIf=\\\"notifications?.length >0\\\">\\n   \\n      <div class=\\\"clear_div\\\">\\n        <p class=\\\"clear_p\\\" (click)=\\\"clearNotifcation()\\\">Clear all</p>\\n      </div>\\n  \\n    <ion-row\\n      class=\\\"pdtop\\\"\\n      *ngFor=\\\"let notification of notifications\\\"\\n      (click)=\\\"accptOffer(notification)\\\"\\n    >\\n      <ion-col size=\\\"2\\\" class=\\\"notify_image_main\\\">\\n        <img src=\\\"{{base_url}}{{notification.sender_img_url}}\\\" />\\n      </ion-col>\\n      <ion-col class=\\\"notify_content\\\" size=\\\"10\\\">\\n        <ion-row>\\n          <ion-col size=\\\"6\\\" class=\\\"ion-text-left\\\">\\n            <p class=\\\"notfy_title\\\">{{notification.sender_name}}</p>\\n          </ion-col>\\n          <ion-col size=\\\"6\\\" class=\\\"ion-text-right\\\">\\n            <p class=\\\"notify_time\\\">{{notification.time_added}}</p>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-text-left notify_desc_main\\\">\\n            <p class=\\\"notify_desc\\\">{{notification.content}}</p>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"notificationError == null\\\">\\n      <ion-col class=\\\"ion-text-center\\\">\\n        <h2>{{dataError}}</h2>\\n      </ion-col>\\n    </ion-row>\\n  </ng-container>\\n  <ng-container *ngIf=\\\"notifications?.length < 1 \\\">\\n  <ion-row>\\n    <ion-col class=\\\"ion-text-center\\\">\\n        <h2>No notification found</h2>\\n    </ion-col>\\n  </ion-row>\\n</ng-container>\\n  <ion-infinite-scroll (ionInfinite)=\\\"doInfinite($event)\\\">\\n    <ion-infinite-scroll-content loadingSpinner=\\\"bubbles\\\" loadingText=\\\"\\\">\\n    </ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ViewAllNotificationsPage } from './view-all-notifications.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ViewAllNotificationsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ViewAllNotificationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ViewAllNotificationsPageRoutingModule } from './view-all-notifications-routing.module';\n\nimport { ViewAllNotificationsPage } from './view-all-notifications.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ViewAllNotificationsPageRoutingModule\n  ],\n  declarations: [ViewAllNotificationsPage]\n})\nexport class ViewAllNotificationsPageModule {}\n","export default \"ion-toolbar {\\n  padding: 0em 0em 0 0;\\n  --background: #c4932f;\\n}\\n\\nion-toolbar.ios {\\n  margin-top: 6px;\\n}\\n\\n@media only screen and (min-height: 800px) {\\n  ion-toolbar {\\n    padding: 0em 0em 0px 0;\\n    --background: #c4932f;\\n  }\\n}\\n\\nion-title {\\n  text-align: center;\\n  color: #fff;\\n  font-size: 24px;\\n  padding-left: 0px;\\n}\\n\\n.b_list1 {\\n  margin: 0px;\\n  font-size: 14px;\\n}\\n\\n.clear_div {\\n  display: grid;\\n  justify-content: center;\\n  padding: 0px;\\n}\\n\\n.clear_p {\\n  padding-top: 5px;\\n  margin: 0px;\\n  color: #c4932f;\\n  text-decoration: underline;\\n  font-size: 14px;\\n}\\n\\n.notify_image_main {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.notify_image_main img {\\n  border-radius: 50%;\\n}\\n\\n.notify_content p {\\n  margin: 0px;\\n}\\n\\n.notify_desc {\\n  font-size: 10px;\\n}\\n\\n.notify_desc_main {\\n  padding-top: 0px;\\n}\\n\\n.notfy_title {\\n  color: #1a6bbe;\\n  font-size: 10px;\\n}\\n\\n.notify_time {\\n  color: #c4932f;\\n  font-size: 10px;\\n}\\n\\n.notify_bg {\\n  background: #f9f9f9;\\n}\\n\\n.pdtop {\\n  padding-right: 10px;\\n  padding-left: 10px;\\n  padding-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlldy1hbGwtbm90aWZpY2F0aW9ucy92aWV3LWFsbC1ub3RpZmljYXRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFBO0VBQ0EscUJBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7QUFDSjs7QUFFQTtFQUNJO0lBQ0ksc0JBQUE7SUFDQSxxQkFBQTtFQUNOO0FBQ0Y7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFBSjs7QUFHQTtFQUNJLFdBQUE7RUFDQSxlQUFBO0FBQUo7O0FBR0E7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0FBQUo7O0FBR0E7RUFDSSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxjQUFBO0VBQ0EsMEJBQUE7RUFDQSxlQUFBO0FBQUo7O0FBR0E7RUFDSSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUFKOztBQUdBO0VBQ0ksa0JBQUE7QUFBSjs7QUFHQTtFQUNJLFdBQUE7QUFBSjs7QUFHQTtFQUNJLGVBQUE7QUFBSjs7QUFHQTtFQUNJLGdCQUFBO0FBQUo7O0FBR0E7RUFDSSxjQUFBO0VBQ0EsZUFBQTtBQUFKOztBQUdBO0VBQ0ksY0FBQTtFQUNBLGVBQUE7QUFBSjs7QUFHQTtFQUNJLG1CQUFBO0FBQUo7O0FBR0E7RUFFSSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUFESiIsImZpbGUiOiJzcmMvYXBwL3ZpZXctYWxsLW5vdGlmaWNhdGlvbnMvdmlldy1hbGwtbm90aWZpY2F0aW9ucy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhciB7XG4gICAgcGFkZGluZzogMGVtIDBlbSAwIDA7XG4gICAgLS1iYWNrZ3JvdW5kOiAjYzQ5MzJmO1xufVxuXG5pb24tdG9vbGJhci5pb3Mge1xuICAgIG1hcmdpbi10b3A6IDZweDtcbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZChtaW4taGVpZ2h0IDogODAwcHgpIHtcbiAgICBpb24tdG9vbGJhciB7XG4gICAgICAgIHBhZGRpbmc6IDBlbSAwZW0gMHB4IDA7XG4gICAgICAgIC0tYmFja2dyb3VuZDogI2M0OTMyZjtcbiAgICB9XG59XG5cbmlvbi10aXRsZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGNvbG9yOiAjZmZmO1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDBweDtcbn1cblxuLmJfbGlzdDEge1xuICAgIG1hcmdpbjogMHB4O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLmNsZWFyX2RpdiB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiAwcHg7XG59XG5cbi5jbGVhcl9wIHtcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgIG1hcmdpbjogMHB4O1xuICAgIGNvbG9yOiAjYzQ5MzJmO1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbn1cblxuLm5vdGlmeV9pbWFnZV9tYWluIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5ub3RpZnlfaW1hZ2VfbWFpbiBpbWcge1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cblxuLm5vdGlmeV9jb250ZW50IHAge1xuICAgIG1hcmdpbjogMHB4O1xufVxuXG4ubm90aWZ5X2Rlc2Mge1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbn1cblxuLm5vdGlmeV9kZXNjX21haW4ge1xuICAgIHBhZGRpbmctdG9wOiAwcHg7XG59XG5cbi5ub3RmeV90aXRsZSB7XG4gICAgY29sb3I6ICMxYTZiYmU7XG4gICAgZm9udC1zaXplOiAxMHB4O1xufVxuXG4ubm90aWZ5X3RpbWUge1xuICAgIGNvbG9yOiAjYzQ5MzJmO1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbn1cblxuLm5vdGlmeV9iZyB7XG4gICAgYmFja2dyb3VuZDogI2Y5ZjlmOTtcbn1cblxuLnBkdG9wIHtcbiAgICAvLyBwYWRkaW5nOiA1cHggMGVtO1xuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xuICAgIHBhZGRpbmctdG9wOiAxMHB4O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoadingController, MenuController, Platform, PopoverController } from '@ionic/angular';\r\nimport { RestService } from '../rest.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { AcceptOfferPage } from '../accept-offer/accept-offer.page';\r\nimport * as moment from 'moment';\r\n@Component({\r\n  selector: 'app-view-all-notifications',\r\n  templateUrl: './view-all-notifications.page.html',\r\n  styleUrls: ['./view-all-notifications.page.scss'],\r\n})\r\nexport class ViewAllNotificationsPage implements OnInit {\r\n  userID: any;\r\n  response: any;\r\n  notifications: any = [ ];\r\n  base_url: any;\r\n  callInterval: any;\r\n  currencies_id: any;\r\n  plateformCheck:any;\r\n  loading:any;\r\n  timeZone : any;\r\n  dataError:any = \"Data Not Found!\"\r\n  constructor(public popoverController: PopoverController,\r\n     public restService: RestService,\r\n     private storage: Storage,\r\n     public router: Router,\r\n     public menuCtrl: MenuController,\r\n     public plateform: Platform,\r\n     public loadingController: LoadingController\r\n     ) {\r\n\r\n    this.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n    console.log(this.timeZone,\"timeZonetimeZone\"); \r\n\r\n  }\r\n  \r\n  ngOnInit() {\r\n    if(this.plateform.is('ios')){\r\n      this.plateformCheck = \"ios\";\r\n    }\r\n    else{\r\n      this.plateformCheck = \"android\";\r\n    }\r\n    this.storage.get('user_details').then((user_details) => {\r\n      console.log(user_details);\r\n      this.userID = user_details.users_id;\r\n      this.currencies_id = user_details.currencies_id;\r\n      this.storage.get('base_urls').then((base_url) => {\r\n        this.base_url = base_url;\r\n        console.log(\"baseeeeee---eeeeee\",this.base_url);\r\n        this.viewAll(false);\r\n      });\r\n    });\r\n    // this.callInterval = setInterval(() => {\r\n    //   this.viewAll();\r\n\r\n    // }, 3000\r\n    // );\r\n  }\r\n  clearNotifcation(){\r\n    this.present();\r\n    var stringy = JSON.stringify({\r\n      \"requestType\": \"clear_all\",\r\n      \"usersID\": this.userID,\r\n    }); \r\n\r\n    this.restService.notifications(stringy).subscribe(response => {\r\n      this.response = JSON.parse(response['_body']);\r\n       console.log(\"clear response\",this.response);\r\n       if(this.response.status=='success'){\r\n        this.notifications = [];\r\n       }\r\n       this.dismiss();\r\n      }, error => {\r\n        console.log(error);\r\n        this.dismiss();\r\n      })\r\n  }\r\n  ionViewWillLeave() {\r\n    clearInterval(this.callInterval);\r\n    console.log('clear');\r\n  }\r\n  doRefresh(event){\r\n    console.log('Begin async operation');\r\n      this.viewAll(false,event,\"refresher\")  \r\n  }\r\n  toggleMenu() {\r\n    this.menuCtrl.toggle();\r\n  }\r\n  page_number :number=0;\r\n  notificationError :number=0;\r\n  viewAll(isFirstLoad, event?,refresher?) {\r\n    let offset = 0;\r\n    if(isFirstLoad==false){\r\n      this.page_number = offset; \r\n    }\r\n    var stringy = JSON.stringify({\r\n      \"requestType\": \"get_all\",\r\n      \"usersID\": this.userID,\r\n      \"limit\": 10,\r\n      \"offset\":this.page_number,\r\n      \"readFilter\":'',\r\n      'timeZone':this.timeZone\r\n    }); \r\n\r\n    this.restService.notifications(stringy).subscribe(response => {\r\n      this.response = JSON.parse(response['_body']);\r\n      if(isFirstLoad==false){\r\n        this.notifications = [];\r\n      }\r\n      console.log(\"this.response.queryyyy\",this.response.queryyyy);\r\n      if (this.response.status == 'NotFound') {\r\n       \r\n        if (isFirstLoad){\r\n          this.notificationError = null;\r\n          this.dataError=\"No more notifications\";\r\n          event.target.complete();\r\n        }\r\n      } \r\n      \r\n      else if (this.response.status == 'Found') {\r\n        this.response.notifications;\r\n        this.notifications = [...this.notifications, ...this.response.notifications];\r\n\r\n        if (isFirstLoad)\r\n          event.target.complete();\r\n\r\n        this.page_number = this.page_number + 10;\r\n      }\r\n      if(refresher){\r\n        event.target.complete();\r\n      }\r\n       \r\n      }, error => {\r\n        console.log(error);\r\n      })\r\n  }\r\n  doInfinite(event) {\r\n    this.viewAll(true, event);\r\n  }\r\n  gotoDetails:any;\r\n  accptOffer(p) {\r\n\r\n    console.log(p);\r\n\r\n    if (p.offer_id) {\r\n      this.readNotification(p)\r\n      var stringy = JSON.stringify({\r\n        \"requestType\": \"check_offer_by_id\",\r\n        \"customerID\": this.userID,\r\n        \"offerID\": p.offer_id,\r\n        \"currencyID\": this.currencies_id\r\n      });\r\n      this.restService.inquire_charges(stringy).subscribe(response => {\r\n        this.response = JSON.parse(response['_body']);\r\n        console.log(this.response);\r\n        if (this.response.status == 'NotFound') {\r\n          console.log('NotFound');\r\n        } else if (this.response.status == 'Found') {\r\n          this.offerPopup(this.response.offers, p.offer_id);\r\n        }\r\n      }, err => {\r\n\r\n      });\r\n    }\r\n\r\n \r\n\r\n    // if (p.type_id == '5' || p.type_id == '7') {\r\n    \r\n    // //  this.readNotification(p);\r\n\r\n    //   var vhDetails = JSON.stringify({\r\n    //     requestType: \"get_car_details_by_id\",\r\n    //     usersID: this.userID,\r\n    //     vehicleID: p.vehicle_id,\r\n    //     currencyID: this.currencies_id\r\n    //   })\r\n\r\n    //   console.log(vhDetails);\r\n    //   this.router.navigate(['/listed-car']);\r\n\r\n\r\n    //   // this.restService.list_vehicles(vhDetails).subscribe(vhRes =>{\r\n    //   //   console.log(JSON.parse(vhRes['_body']),\" resss wheel\");\r\n    //   //   this.gotoDetails =JSON.parse(vhRes['_body'])\r\n    //   //   console.log(this.gotoDetails.vehicles_list[0], \"listing\")\r\n    //   //   var myData = JSON.stringify({\r\n    //   //     cars_list_result: this.gotoDetails.vehicles_list[0],\r\n    //   //     redirect: '/notification'\r\n    //   //   });\r\n\r\n    //   //   this.router.navigate(['/car-detail'], {\r\n    //   //     queryParams: {\r\n    //   //       value: myData  \r\n    //   //     },\r\n    //   //   });\r\n    //   // },(err)=>{\r\n    //   //   console.log(err);\r\n    //   // });\r\n\r\n    \r\n    // }\r\n\r\n    if (p.type_id == '1' || p.type_id == '3') {\r\n      console.log('msggggggggggg', p);\r\n\r\n      var myData = JSON.stringify({\r\n        userID: p.receiver_id,\r\n        otherUserId: p.sender_id,\r\n        user_name: p.sender_name,\r\n        profile_img: p.sender_img_url\r\n\r\n      });\r\n      console.log(myData);\r\n      this.router.navigate(['/chat-detail'], {\r\n        queryParams: {\r\n          value: myData\r\n        }\r\n      });\r\n\r\n    }\r\n   else if (p.type_id == '2'){\r\n    //  this.router.navigate(['/bookings'])\r\n     this.router.navigate(['/booking-list'])\r\n\r\n    \r\n    } \r\n    else if (p.type_id == '5'|| p.type_id == '6' || p.type_id == '7'|| p.type_id == '8'|| p.type_id == '13'){\r\n      //  this.router.navigate(['/bookings'])\r\n       this.router.navigate(['/listed-car'])\r\n  \r\n      \r\n      } \r\n      else if (p.type_id == '9'){\r\n         this.router.navigate(['/bookings'])\r\n        //  this.router.navigate(['/other-booking-list'])\r\n        console.log(\"cancel booking\");\r\n        \r\n        } \r\n      else if (p.type_id == '10'){\r\n        //  this.router.navigate(['/bookings'])\r\n        var gerValue = 'cancel'\r\n        this.router.navigate(['/other-booking-list'],{\r\n\r\n          queryParams: {\r\n            value : gerValue\r\n            },\r\n          });\r\n        //  this.router.navigate(['/other-booking-list'])\r\n        console.log(\"reject booking\");\r\n        \r\n        } \r\n      else if (p.type_id == '11'){\r\n        //  this.router.navigate(['/bookings'])\r\n          // this.router.navigate(['/booking-list'])\r\n          var gerValue = 'upcoming'\r\n          this.router.navigate(['/booking-list'],{\r\n\r\n            queryParams: {\r\n              value : gerValue\r\n              },\r\n            });\r\n        console.log(\"payment done\");\r\n\r\n    \r\n        \r\n        } \r\n        else if (p.type_id == '12'){\r\n          //  this.router.navigate(['/bookings'])\r\n           this.router.navigate(['/other-booking-list'])\r\n      \r\n          \r\n          } \r\n          else if (p.type_id == '14'){\r\n            //  this.router.navigate(['/bookings'])\r\n            var gerValue = 'cancel'\r\n            this.router.navigate(['/booking-list'],{\r\n    \r\n              queryParams: {\r\n                value : gerValue\r\n                },\r\n              });\r\n            //  this.router.navigate(['/other-booking-list'])\r\n            console.log(\"reject booking\");\r\n            } \r\n  }\r\n\r\n\r\n  readNotification(notification) {\r\n  \r\n     var read = JSON.stringify({\r\n      requestType : 'mark_read',\r\n      usersID:    this.userID,\r\n      notifyID: notification.notifications_id\r\n     })\r\n     this.restService.notifications(read).subscribe(res =>{\r\n       console.log(res);\r\n     \r\n     },(readError)=>{\r\n       console.log(readError);\r\n     })\r\n\r\n  }\r\n  async offerPopup(p, offer_id) {\r\n    const popover = await this.popoverController.create({\r\n      component: AcceptOfferPage,\r\n      componentProps: {\r\n        \"data\": p,\r\n        \"offer_id\": offer_id\r\n      },\r\n      translucent: true\r\n    });\r\n    popover.onWillDismiss().then(data => {\r\n\r\n      // console.log('dismiss');\r\n\r\n    })\r\n    return await popover.present();\r\n  }\r\n  async present() {\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please wait...',\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n\r\n   async dismiss() {\r\n  await this.loading.dismiss();\r\n  }\r\n}\r\n"]}