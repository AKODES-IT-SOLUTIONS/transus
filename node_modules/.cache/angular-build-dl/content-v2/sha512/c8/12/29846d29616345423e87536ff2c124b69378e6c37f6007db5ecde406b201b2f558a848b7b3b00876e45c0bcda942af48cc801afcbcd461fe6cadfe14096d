{"version":3,"sources":["webpack:///src/app/payment-detail/payment-detail.page.html","webpack:///src/app/payment-detail/payment-detail-routing.module.ts","webpack:///src/app/payment-detail/payment-detail.module.ts","webpack:///src/app/payment-detail/payment-detail.page.scss","webpack:///src/app/payment-detail/payment-detail.page.ts"],"names":["routes","path","component","PaymentDetailPageRoutingModule","imports","forChild","exports","PaymentDetailPageModule","declarations","PaymentDetailPage","toastController","loadingController","storage","restService","activatedRoute","router","menuCtrl","sliderStartBoolean","amount_error","desc","queryParams","subscribe","res","response","JSON","parse","value","console","log","booking_details","trip_cost","booking_id","bookings_id","get","then","base_url","user_details","wallet_amount","userID","users_id","Email","email","getUserDetail","currency_symbol","get_payment_method_detail","i","document","querySelector","setAttribute","payment_methods","white_icon_url","setTimeout","blue_icon_url","stringy","stringify","getDdlData","getStartIndex","err","getUserDetails","status","set","parseFloat","replace","payment_methods_id","present","transactions","presentToast","dismiss","navigate","toggle","msg","create","message","duration","position","toast","loading","selector","template"],"mappings":"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","file":"payment-detail-payment-detail-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <img src=\\\"assets/img/Menu.svg\\\" (click)=\\\"toggleMenu()\\\">\\n    </ion-buttons>\\n    <ion-title>Payment</ion-title>\\n   </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-row class=\\\"bg\\\">\\n    <ion-col size=\\\"12\\\">\\n      <h3>Method - ({{currency_symbol}} {{wallet_amount}})</h3>\\n    </ion-col>\\n    <ion-col size=\\\"4\\\" *ngFor=\\\"let p of payment_methods; let i = index\\\" (click)=\\\"getStartIndex(i)\\\">\\n      <div class=\\\"ion-text-center bg_cell\\\" [class.bg_active]=\\\"sliderStartBoolean == i\\\">\\n         <img src=\\\"{{base_url}}{{p.white_icon_url}}\\\" >\\n      </div>\\n    </ion-col>\\n\\n  </ion-row>\\n  <ion-row class=\\\"bys\\\">\\n    <ion-col size=\\\"12\\\">\\n      <h3>Details</h3>\\n    </ion-col>\\n    <ion-col>\\n      <ion-input  [(ngModel)]=\\\"desc\\\"  placeholder=\\\"Account Number\\\" class=\\\"input_list\\\"></ion-input>\\n    </ion-col>\\n    <span *ngIf=\\\"amount_error\\\" class=\\\"error ion-padding\\\">\\n     Your wallet amount is insufficient.\\n    </span>\\n    </ion-row>\\n    \\n    <ion-row >\\n      <ion-col size=\\\"2\\\"></ion-col>\\n      <ion-col size=\\\"8\\\">\\n        <ion-button color=\\\"primary\\\" expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"sendPayment()\\\">Done</ion-button>\\n      </ion-col>\\n    </ion-row>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaymentDetailPage } from './payment-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaymentDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentDetailPageRoutingModule } from './payment-detail-routing.module';\n\nimport { PaymentDetailPage } from './payment-detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PaymentDetailPageRoutingModule\n  ],\n  declarations: [PaymentDetailPage]\n})\nexport class PaymentDetailPageModule {}\n","export default \"ion-toolbar {\\n  padding: 0.8em 0.1em 0 0;\\n  --background: #c4932f;\\n}\\n\\n@media only screen and (min-height: 800px) {\\n  ion-toolbar {\\n    padding: 3em 0.1em 8px 0;\\n    --background: #c4932f;\\n  }\\n}\\n\\nion-title {\\n  text-align: center;\\n  color: #fff;\\n  font-size: 24px;\\n  padding-left: 0px;\\n}\\n\\n.bg {\\n  background: #f9f9f9;\\n  padding: 0em 1em 1.5em 1em;\\n}\\n\\n.bg_active {\\n  background: #1a6bbe !important;\\n  border-radius: 6px;\\n  box-shadow: 2px 2px 6px #00000059;\\n  padding: 5px 10px;\\n  height: 60px;\\n}\\n\\n.bg_cell {\\n  border-radius: 6px;\\n  box-shadow: 2px 2px 6px #0000002b;\\n  padding: 18px 10px;\\n  background: #fff;\\n  height: 60px;\\n}\\n\\n.input_list {\\n  border: 1px solid #d4dce1;\\n  background: #f7f8fa;\\n  border-radius: 28px;\\n  font-size: 13px;\\n  color: #d4dce1;\\n  --padding-bottom: 1.5em;\\n  --padding-start: 1.5em;\\n  --padding-top: 1.5em;\\n}\\n\\nion-button {\\n  --padding-bottom: 1.5em;\\n  --padding-top: 1.5em;\\n  --box-shadow: none;\\n}\\n\\n.bys {\\n  padding: 0em 1em 1.5em 1em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGF5bWVudC1kZXRhaWwvcGF5bWVudC1kZXRhaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0JBQUE7RUFDQSxxQkFBQTtBQUNKOztBQUVBO0VBQ0k7SUFDSSx3QkFBQTtJQUNBLHFCQUFBO0VBQ047QUFDRjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQUFKOztBQUVBO0VBQ0ksbUJBQUE7RUFDQSwwQkFBQTtBQUNKOztBQUNBO0VBQ0ksOEJBQUE7RUFDQSxrQkFBQTtFQUNBLGlDQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBRUo7O0FBQUE7RUFDSSxrQkFBQTtFQUNBLGlDQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUFHSjs7QUFBQTtFQUNJLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsdUJBQUE7RUFDQSxzQkFBQTtFQUNBLG9CQUFBO0FBR0o7O0FBQUE7RUFDSSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7QUFHSjs7QUFEQTtFQUNJLDBCQUFBO0FBSUoiLCJmaWxlIjoic3JjL2FwcC9wYXltZW50LWRldGFpbC9wYXltZW50LWRldGFpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tdG9vbGJhciB7XG4gICAgcGFkZGluZzogMC44ZW0gMC4xZW0gMCAwO1xuICAgIC0tYmFja2dyb3VuZDogI2M0OTMyZjtcbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZChtaW4taGVpZ2h0IDogODAwcHgpIHtcbiAgICBpb24tdG9vbGJhciB7XG4gICAgICAgIHBhZGRpbmc6IDNlbSAwLjFlbSA4cHggMDtcbiAgICAgICAgLS1iYWNrZ3JvdW5kOiAjYzQ5MzJmO1xuICAgIH1cbn1cblxuaW9uLXRpdGxlIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgZm9udC1zaXplOiAyNHB4O1xuICAgIHBhZGRpbmctbGVmdDogMHB4O1xufVxuLmJnIHtcbiAgICBiYWNrZ3JvdW5kOiAjZjlmOWY5O1xuICAgIHBhZGRpbmc6IDBlbSAxZW0gMS41ZW0gMWVtO1xufVxuLmJnX2FjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogIzFhNmJiZSAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICBib3gtc2hhZG93OiAycHggMnB4IDZweCAjMDAwMDAwNTk7XG4gICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgaGVpZ2h0OiA2MHB4O1xufVxuLmJnX2NlbGwge1xuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICBib3gtc2hhZG93OiAycHggMnB4IDZweCAjMDAwMDAwMmI7XG4gICAgcGFkZGluZzogMThweCAxMHB4O1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gICAgaGVpZ2h0OiA2MHB4O1xufVxuXG4uaW5wdXRfbGlzdCB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2Q0ZGNlMTtcbiAgICBiYWNrZ3JvdW5kOiAjZjdmOGZhO1xuICAgIGJvcmRlci1yYWRpdXM6IDI4cHg7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGNvbG9yOiAjZDRkY2UxO1xuICAgIC0tcGFkZGluZy1ib3R0b206IDEuNWVtO1xuICAgIC0tcGFkZGluZy1zdGFydDogMS41ZW07XG4gICAgLS1wYWRkaW5nLXRvcDogMS41ZW07XG59XG5cbmlvbi1idXR0b24ge1xuICAgIC0tcGFkZGluZy1ib3R0b206IDEuNWVtO1xuICAgIC0tcGFkZGluZy10b3A6IDEuNWVtO1xuICAgIC0tYm94LXNoYWRvdzogbm9uZTtcbn1cbi5ieXMge1xuICAgIHBhZGRpbmc6IDBlbSAxZW0gMS41ZW0gMWVtO1xufVxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { LoadingController, MenuController, ToastController } from '@ionic/angular';\nimport { RestService } from '../rest.service';\nimport { Storage } from '@ionic/storage';\n@Component({\n  selector: 'app-payment-detail',\n  templateUrl: './payment-detail.page.html',\n  styleUrls: ['./payment-detail.page.scss'],\n})\nexport class PaymentDetailPage implements OnInit {\n  response: any;\n  booking_details: any;\n  base_url: any;\n  payment_methods: any;\n  sliderStartBoolean:number =0;\n  wallet_amount: number;\n  currency_symbol: any;\n  userID: any;\n  trip_cost:number;\n  amount_error:boolean=false;\n  desc:any = '';\n  loading: HTMLIonLoadingElement;\n  booking_id:any;\n  constructor(public toastController:ToastController,\n    public loadingController: LoadingController,private storage: Storage,\n    public restService:RestService,public activatedRoute:ActivatedRoute,\n    public router:Router,public menuCtrl: MenuController) { \n    this.activatedRoute.queryParams.subscribe((res)=>{\n      this.response = JSON.parse(res.value);\n      console.log(this.response);\n      this.booking_details =  this.response.booking_details;\n      this.trip_cost = this.booking_details.trip_cost;\n      this.booking_id = this.booking_details.bookings_id;\n      console.log(this.trip_cost);\n      /*var date1 = new Date(this.booking_details.start_date); \n      var date2 = new Date(this.booking_details.end_date);\n      var Difference_In_Time = date2.getTime() - date1.getTime(); \n  \n      // To calculate the no. of days between two dates \n      var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24); \n        console.log('dieffernce in days: '+Difference_In_Days);*/\n  });\n  \n  }\n  Email:any;\n  ngOnInit() {\n    this.storage.get('base_urls').then((base_url) => {\n      this.base_url = base_url;\n      this.storage.get('user_details').then((user_details) => {\n        console.log(user_details);\n        this.wallet_amount = user_details.wallet_amount;\n        this.userID = user_details.users_id;\n          this.Email = user_details.email;\n        this.getUserDetail()\n        this.storage.get('currency_symbol').then((currency_symbol) => {\n          this.currency_symbol = currency_symbol;\n        });\n      });\n      this.get_payment_method_detail();\n     \n    });\n  }\n  getStartIndex(i){\n    document.querySelector('.bg_active img').setAttribute('src',this.base_url+''+this.payment_methods[this.sliderStartBoolean].white_icon_url);\n    \n    this.sliderStartBoolean = i;\n    setTimeout(() => {\n    document.querySelector('.bg_active img').setAttribute('src',this.base_url+''+this.payment_methods[this.sliderStartBoolean].blue_icon_url);\n    \n    }, 100);\n  }\n  get_payment_method_detail(){\n    var stringy = JSON.stringify({\n      \"requestType\" : \"payment_methods\"\n    });\n    console.log(stringy);\n   this.restService.getDdlData(stringy).subscribe(response => {\n     this.response      =  JSON.parse(response['_body']);\n     this.payment_methods = this.response.payment_methods;\n      console.log(this.response);\n      this.getStartIndex(0);\n    },err => {\n    \n    });\n  }\n  getUserDetail(){\n    var stringy = JSON.stringify({\n      \"usersID\":this.userID,\n      \"requestType\":'withID'\n    });\n    console.log(stringy);\n   this.restService.getUserDetails(stringy).subscribe(response => {\n     this.response =  JSON.parse(response['_body']);\n     console.log(this.response);\n     if(this.response.status == 'NotFound'){\n      \n     }else if(this.response.status == 'Found'){\n       this.storage.set('user_details', this.response.user_details);\n       this.wallet_amount  = this.response.user_details.wallet_amount;\n     \n     }\n    },err => {\n    \n    });\n  }\n \n  sendPayment(){\n    this.amount_error = false;\n    var wallet_amount  = parseFloat(this.response.user_details.wallet_amount.replace(/,/g, ''));\n    var trip_cost = parseFloat(this.booking_details.trip_cost.replace(/,/g, ''));\n    if(wallet_amount>trip_cost){\n      var stringy = JSON.stringify({\n        \"usersID\":this.userID,\n        \"requestType\":'make_payment',\n        \"bookingID\":this.booking_details.bookings_id,\n        \"paymentMethodID\":this.payment_methods[0].payment_methods_id,\n        \"desc\": this.desc\n      });\n      console.log(stringy);\n      this.present();\n     this.restService.transactions(stringy).subscribe(response => {\n       this.response =  JSON.parse(response['_body']);\n       console.log(this.response);\n       if(this.response.status == 'success'){\n          this.presentToast('Your payment has been received and admin will review your booking.');\n       }else{\n        this.presentToast('Oops! something went wrong!');\n       }\n        this.dismiss();\n        this.router.navigate(['/']); \n      },err => {\n      this.dismiss();\n      });\n    }else{\n      this.amount_error = true;\n    }\n  }\n  \n  toggleMenu(){\n    this.menuCtrl.toggle();\n  } \n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 2000,\n      position:'top'\n    });\n    toast.present();\n  }\n  async present() {\n    this.loading = await this.loadingController.create({\n      message: 'Please wait...',\n    });\n    await this.loading.present();\n  }\n  \n\n  async dismiss() {\n      await this.loading.dismiss();\n  }\n}\n"]}