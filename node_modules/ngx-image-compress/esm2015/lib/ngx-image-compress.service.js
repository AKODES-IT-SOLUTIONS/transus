/**
 * @fileoverview added by tsickle
 * Generated from: lib/ngx-image-compress.service.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Injectable, RendererFactory2 } from '@angular/core';
import { ImageCompress } from './image-compress';
import { DOC_ORIENTATION } from './DOC_ORIENTATION';
import * as ɵngcc0 from '@angular/core';
export class NgxImageCompressService {
    /**
     * @param {?} rendererFactory
     */
    constructor(rendererFactory) {
        this.DOC_ORIENTATION = DOC_ORIENTATION;
        this.render = rendererFactory.createRenderer(null, null);
    }
    /**
     * @param {?} image
     * @return {?}
     */
    byteCount(image) {
        return ImageCompress.byteCount(image);
    }
    /**
     * Get the correct Orientation value from the EXIF tags in the specified file.
     * @param {?} file
     * @return {?}
     */
    getOrientation(file) {
        return new Promise((/**
         * @param {?} resolve
         * @return {?}
         */
        (resolve) => {
            ImageCompress.getOrientation(file, (/**
             * @param {?} result
             * @return {?}
             */
            (result) => {
                resolve(result);
            }));
        }));
    }
    /**
     * @return {?}
     */
    uploadFile() {
        return ImageCompress.uploadFile(this.render);
    }
    /**
     * @param {?} image
     * @param {?} orientation
     * @param {?=} ratio
     * @param {?=} quality
     * @return {?}
     */
    compressFile(image, orientation, ratio = 50, quality = 50) {
        return ImageCompress.compress(image, orientation, this.render, ratio, quality);
    }
}
NgxImageCompressService.ɵfac = function NgxImageCompressService_Factory(t) { return new (t || NgxImageCompressService)(ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2)); };
NgxImageCompressService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: NgxImageCompressService, factory: NgxImageCompressService.ɵfac });
/** @nocollapse */
NgxImageCompressService.ctorParameters = () => [
    { type: RendererFactory2 }
];
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxImageCompressService, [{
        type: Injectable
    }], function () { return [{ type: ɵngcc0.RendererFactory2 }]; }, null); })();
if (false) {
    /**
     * @type {?}
     * @private
     */
    NgxImageCompressService.prototype.render;
    /** @type {?} */
    NgxImageCompressService.prototype.DOC_ORIENTATION;
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWltYWdlLWNvbXByZXNzLnNlcnZpY2UuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbWFnZS1jb21wcmVzcy9zcmMvbGliL25neC1pbWFnZS1jb21wcmVzcy5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFDLFVBQVUsRUFBYSxnQkFBZ0IsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUN0RSxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sa0JBQWtCLENBQUM7QUFDL0MsT0FBTyxFQUFDLGVBQWUsRUFBQyxNQUFNLG1CQUFtQixDQUFDOztBQUdsRCxNQUFNLE9BQU8sdUJBQXVCO0FBQ3BDO0FBQ087QUFFSTtBQUFRLElBRWpCLFlBQVksZUFBaUM7QUFDL0MsUUFIUyxvQkFBZSxHQUFHLGVBQWUsQ0FBQztBQUMzQyxRQUVJLElBQUksQ0FBQyxNQUFNLEdBQUcsZUFBZSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDN0QsSUFBRSxDQUFDO0FBQ0g7QUFDTztBQUNKO0FBQW1CO0FBQVEsSUFEckIsU0FBUyxDQUFDLEtBQUs7QUFDeEIsUUFBSSxPQUFPLGFBQWEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDMUMsSUFBRSxDQUFDO0FBQ0g7QUFDTztBQUNGO0FBQXVCO0FBQW1CO0FBQVEsSUFBOUMsY0FBYyxDQUFDLElBQVU7QUFBSSxRQUNsQyxPQUFPLElBQUksT0FBTztBQUFNO0FBQ3pCO0FBQXVCO0FBQVksUUFERSxDQUFDLE9BQU8sRUFBRSxFQUFFO0FBQ3BELFlBQU0sYUFBYSxDQUFDLGNBQWMsQ0FBQyxJQUFJO0FBQU87QUFDdEI7QUFLckI7QUFBZ0IsWUFOc0IsQ0FBQyxNQUFNLEVBQUUsRUFBRTtBQUNwRCxnQkFBUSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEIsWUFBTSxDQUFDLEVBQUMsQ0FBQztBQUNULFFBQUksQ0FBQyxFQUFDLENBQUM7QUFDUCxJQUFFLENBQUM7QUFDSDtBQUNPO0FBQW1CO0FBQVEsSUFBekIsVUFBVTtBQUFLLFFBQ3BCLE9BQU8sYUFBYSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDakQsSUFBRSxDQUFDO0FBQ0g7QUFDTztBQUF3QjtBQUE4QjtBQUF5QjtBQUEyQjtBQUM3RztBQUFRLElBREgsWUFBWSxDQUFDLEtBQWEsRUFBRSxXQUE0QixFQUFFLFFBQWdCLEVBQUUsRUFBRSxVQUFrQixFQUFFO0FBQUksUUFDM0csT0FBTyxhQUFhLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDbkYsSUFBRSxDQUFDO0FBQ0g7bURBL0JDLFVBQVU7cUlBQ1Q7QUFBQztBQUFtQjtBQUlyQixZQVQ4QixnQkFBZ0I7QUFBRzs7O2lGQUFFO0FBQUM7QUFBYTtBQUMvRDtBQUFpQjtBQUFnQjtBQUFRLElBTTFDLHlDQUEwQjtBQUM1QjtBQUNvQixJQUFsQixrREFBeUM7QUFDM0M7QUFDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW5qZWN0YWJsZSwgUmVuZGVyZXIyLCBSZW5kZXJlckZhY3RvcnkyfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7SW1hZ2VDb21wcmVzc30gZnJvbSAnLi9pbWFnZS1jb21wcmVzcyc7XG5pbXBvcnQge0RPQ19PUklFTlRBVElPTn0gZnJvbSAnLi9ET0NfT1JJRU5UQVRJT04nO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTmd4SW1hZ2VDb21wcmVzc1NlcnZpY2Uge1xuXG4gIHByaXZhdGUgcmVuZGVyOiBSZW5kZXJlcjI7XG5cbiAgcHVibGljIERPQ19PUklFTlRBVElPTiA9IERPQ19PUklFTlRBVElPTjtcblxuICBjb25zdHJ1Y3RvcihyZW5kZXJlckZhY3Rvcnk6IFJlbmRlcmVyRmFjdG9yeTIpIHtcbiAgICB0aGlzLnJlbmRlciA9IHJlbmRlcmVyRmFjdG9yeS5jcmVhdGVSZW5kZXJlcihudWxsLCBudWxsKTtcbiAgfVxuXG4gIHB1YmxpYyBieXRlQ291bnQoaW1hZ2UpIHtcbiAgICByZXR1cm4gSW1hZ2VDb21wcmVzcy5ieXRlQ291bnQoaW1hZ2UpO1xuICB9XG5cbiAgLyoqIEdldCB0aGUgY29ycmVjdCBPcmllbnRhdGlvbiB2YWx1ZSBmcm9tIHRoZSBFWElGIHRhZ3MgaW4gdGhlIHNwZWNpZmllZCBmaWxlLiAqL1xuICBwdWJsaWMgZ2V0T3JpZW50YXRpb24oZmlsZTogRmlsZSk6IFByb21pc2U8RE9DX09SSUVOVEFUSU9OPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPERPQ19PUklFTlRBVElPTj4oKHJlc29sdmUpID0+IHtcbiAgICAgIEltYWdlQ29tcHJlc3MuZ2V0T3JpZW50YXRpb24oZmlsZSwgKHJlc3VsdCkgPT4ge1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyB1cGxvYWRGaWxlKCk6IFByb21pc2U8eyBpbWFnZTogc3RyaW5nLCBvcmllbnRhdGlvbjogRE9DX09SSUVOVEFUSU9OIH0+IHtcbiAgICByZXR1cm4gSW1hZ2VDb21wcmVzcy51cGxvYWRGaWxlKHRoaXMucmVuZGVyKTtcbiAgfVxuXG4gIHB1YmxpYyBjb21wcmVzc0ZpbGUoaW1hZ2U6IHN0cmluZywgb3JpZW50YXRpb246IERPQ19PUklFTlRBVElPTiwgcmF0aW86IG51bWJlciA9IDUwLCBxdWFsaXR5OiBudW1iZXIgPSA1MCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIEltYWdlQ29tcHJlc3MuY29tcHJlc3MoaW1hZ2UsIG9yaWVudGF0aW9uLCB0aGlzLnJlbmRlciwgcmF0aW8sIHF1YWxpdHkpO1xuICB9XG5cbn1cbiJdfQ==